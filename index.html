<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirect</title>    
  </head>
  <body>
    <a id="btn" href="" target="_blank" tabindex="-1"></a>
    <script>
      const u = new URLSearchParams(window.location.search);
      const l = u.get("r");
      const p = u.get("w");
      const b = document.getElementById("btn");
      
      if (l !== null && l !== "" && /^https?:\/\//.test(l)) {
        b.href = l;
        b.click();
        // if (p === "true") w(l);
        // else t(l);
        if (window.history.length <= 1) window.close();
        else history.back();
      }
      function t(h) {
        Object.assign(document.createElement("a"), {
          target: "_blank",
          rel: "noopener noreferrer",
          href: h,
        }).click();
      }
      function w(h) {
        window.open(
          h,
          "page",
          "width=1000,height=800,scrollbars=yes,resizable=yes"
        );
      }
    </script>
  </body>
</html>
